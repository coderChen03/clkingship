"use strict";(self.webpackChunkclkingship=self.webpackChunkclkingship||[]).push([[629],{"./src/components/Select/select.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CheckBoxMenu:()=>CheckBoxMenu,DefaultMenu:()=>DefaultMenu,__namedExportsOrder:()=>__namedExportsOrder,default:()=>select_stories});var react=__webpack_require__("../../clkingtest/node_modules/react/index.js"),input=__webpack_require__("./src/components/Input/input.tsx");const Input=input.A;input.A.__docgenInfo={description:"Input 输入框 通过鼠标或键盘输入内容，是最基础的表单域的包装。\r\n\r\n~~~js\r\n// 这样引用\r\nimport { Input } from 'clkingship'\r\n~~~\r\n\r\n支持 HTMLInput 的所有基本属性",methods:[],displayName:"Input",props:{disabled:{required:!1,tsType:{name:"boolean"},description:""},size:{required:!1,tsType:{name:"union",raw:'"lg" | "sm"',elements:[{name:"literal",value:'"lg"'},{name:"literal",value:'"sm"'}]},description:"尺寸大小"},icon:{required:!1,tsType:{name:"IconProp"},description:"icon图标"},prepend:{required:!1,tsType:{name:"union",raw:"string | ReactElement",elements:[{name:"string"},{name:"ReactElement"}]},description:"前缀"},append:{required:!1,tsType:{name:"union",raw:"string | ReactElement",elements:[{name:"string"},{name:"ReactElement"}]},description:"后缀"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ChangeEvent",elements:[{name:"HTMLInputElement"}],raw:"ChangeEvent<HTMLInputElement>"},name:"e"}],return:{name:"void"}}},description:""},ref:{required:!1,tsType:{name:"any"},description:""}},composes:["Omit"]};var Transition=__webpack_require__("./src/components/Transition/index.tsx"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),useClickOutside=__webpack_require__("./src/hooks/useClickOutside.tsx"),Icon=__webpack_require__("./src/components/Icon/index.tsx"),jsx_runtime=__webpack_require__("../../clkingtest/node_modules/react/jsx-runtime.js");const SelectContext=(0,react.createContext)({selectedValues:[]}),Select=props=>{const{defaultValue,placeholder,disabled,multiple,name,onChange,onVisibleChange,children}=props,[menuOpen,setMenuOpen]=(0,react.useState)(!1),[selectedValues,setSelectedValues]=(0,react.useState)(Array.isArray(defaultValue)?defaultValue:[]),[values,setValues]=(0,react.useState)("string"==typeof defaultValue?defaultValue:""),inputRef=(0,react.useRef)(null),containerRef=(0,react.useRef)(null),containerWidth=(0,react.useRef)(0);(0,react.useEffect)((()=>{inputRef.current&&(inputRef.current.focus(),multiple&&selectedValues.length>0?inputRef.current.placeholder="":placeholder&&(inputRef.current.placeholder=placeholder))}),[selectedValues,multiple,placeholder]),(0,useClickOutside.A)(containerRef,(()=>{setMenuOpen(!1),onVisibleChange&&menuOpen&&onVisibleChange(!1)}));const containerClass=classnames_default()("clking-select",{"menu-is-open":menuOpen,"is-disabled":disabled,"is-multiple":multiple}),handleOptionClick=(value,isSelected)=>{multiple?setValues(""):(setMenuOpen(!1),setValues(value),onVisibleChange&&onVisibleChange(!1));let updateValues=[value];multiple&&(updateValues=isSelected?selectedValues.filter((v=>v!==value)):[...selectedValues,value]),setSelectedValues(updateValues),onChange&&onChange(value,updateValues)},passedContext={onSelect:handleOptionClick,selectedValues,multiple};return(0,react.useEffect)((()=>{containerRef.current&&(containerWidth.current=containerRef.current.getBoundingClientRect().width)})),(0,jsx_runtime.jsxs)("div",{className:containerClass,ref:containerRef,children:[(0,jsx_runtime.jsx)("div",{className:"clking-select-input",onClick:e=>{e.preventDefault(),disabled||(setMenuOpen(!menuOpen),onVisibleChange&&onVisibleChange(!menuOpen))},children:(0,jsx_runtime.jsx)(Input,{ref:inputRef,placeholder,value:values,readOnly:!0,icon:"angle-down",disabled,name})}),(0,jsx_runtime.jsx)(SelectContext.Provider,{value:passedContext,children:(0,jsx_runtime.jsx)(Transition.A,{in:menuOpen,animation:"zoom-in-top",timeout:300,children:(0,jsx_runtime.jsx)("ul",{className:"clking-select-dropdown",children:react.Children.map(children,((child,index)=>{let childElement=child;if("Option"===childElement.type.displayName)return react.cloneElement(childElement,{index:"select-".concat(index)});console.error("Warning: Select has a child which is not a Option component")}))})})}),multiple&&(0,jsx_runtime.jsx)("div",{className:"clking-selected-tags",style:{maxWidth:containerWidth.current-32},children:selectedValues.map(((value,index)=>(0,jsx_runtime.jsxs)("span",{className:"clking-tag",children:[value,(0,jsx_runtime.jsx)(Icon.A,{icon:"times",onClick:()=>{handleOptionClick(value,!0)}})]},"key-".concat(index))))})]})};Select.defaultProps={name:"clking-select",placeholder:"请选择"};const Select_select=Select;Select.__docgenInfo={description:"下拉选择器。\r\n弹出一个下拉菜单给用户选择操作，用于代替原生的选择器，或者需要一个更优雅的多选器时。\r\n### 引用方法\r\n\r\n~~~js\r\nimport { Select } from 'clkingship'\r\n// 然后可以使用 <Select> 和 <Select.Option>\r\n~~~",methods:[],displayName:"Select",props:{defaultValue:{required:!1,tsType:{name:"union",raw:"string | string[]",elements:[{name:"string"},{name:"Array",elements:[{name:"string"}],raw:"string[]"}]},description:"指定默认选中的条目\t 可以是是字符串或者字符串数组"},placeholder:{required:!1,tsType:{name:"string"},description:"选择框默认文字",defaultValue:{value:'"请选择"',computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"是否禁用"},multiple:{required:!1,tsType:{name:"boolean"},description:"是否支持多选"},name:{required:!1,tsType:{name:"string"},description:"select input 的 name 属性",defaultValue:{value:'"clking-select"',computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedValue: string, selectedValues: string[]) => void",signature:{arguments:[{type:{name:"string"},name:"selectedValue"},{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"selectedValues"}],return:{name:"void"}}},description:"选中值发生变化时触发"},onVisibleChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(visible: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"visible"}],return:{name:"void"}}},description:"下拉框出现/隐藏时触发"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const Option=props=>{const{index,value,label,disabled,children}=props,{onSelect,selectedValues,multiple}=(0,react.useContext)(SelectContext);let isSelected=selectedValues.includes(value);const classes=classnames_default()("clking-select-item",{"is-disabled":disabled,"is-selected":isSelected});return(0,jsx_runtime.jsxs)("li",{className:classes,onClick:e=>{((e,value,isSelected)=>{e.preventDefault(),onSelect&&!disabled&&onSelect(value,isSelected)})(e,value,isSelected)},children:[children||label||value,multiple&&isSelected&&(0,jsx_runtime.jsx)(Icon.A,{icon:"check"})]},index)};Option.displayName="Option";const Select_option=Option;Option.__docgenInfo={description:"",methods:[],displayName:"Option",props:{index:{required:!1,tsType:{name:"string"},description:""},value:{required:!0,tsType:{name:"string"},description:"默认根据此属性值进行筛选，该值不能相同"},label:{required:!1,tsType:{name:"string"},description:"选项的标签，若不设置则默认与 value 相同"},disabled:{required:!1,tsType:{name:"boolean"},description:"是否禁用该选项"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const select_stories={title:"Select 选择器",component:Select_select,tags:["autodocs"],render:args=>(0,jsx_runtime.jsxs)(Select_select,{...args,placeholder:"请选择",children:[(0,jsx_runtime.jsx)(Select_option,{value:"nihao"}),(0,jsx_runtime.jsx)(Select_option,{value:"nihao2"}),(0,jsx_runtime.jsx)(Select_option,{value:"nihao3"}),(0,jsx_runtime.jsx)(Select_option,{value:"disabled",disabled:!0}),(0,jsx_runtime.jsx)(Select_option,{value:"nihao5"})]})},DefaultMenu={storyName:"默认的选择器"},CheckBoxMenu={args:{multiple:!0},storyName:"支持多选的选择器"};DefaultMenu.parameters={...DefaultMenu.parameters,docs:{...DefaultMenu.parameters?.docs,source:{originalSource:"{}",...DefaultMenu.parameters?.docs?.source}}},CheckBoxMenu.parameters={...CheckBoxMenu.parameters,docs:{...CheckBoxMenu.parameters?.docs,source:{originalSource:"{\n  args: {\n    multiple: true\n  }\n}",...CheckBoxMenu.parameters?.docs?.source}}};const __namedExportsOrder=["DefaultMenu","CheckBoxMenu"]},"./src/components/Icon/icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("../../clkingtest/node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@fortawesome/fontawesome-svg-core/index.mjs"),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@fortawesome/free-solid-svg-icons/index.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../clkingtest/node_modules/react/jsx-runtime.js");_fortawesome_fontawesome_svg_core__WEBPACK_IMPORTED_MODULE_3__.Yv.add(_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_5__.X7I);const Icon=props=>{const{className,theme,...restProps}=props,classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("clking-icon",className,{["icon-".concat(theme)]:theme});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__.g,{className:classes,...restProps})},__WEBPACK_DEFAULT_EXPORT__=Icon;Icon.__docgenInfo={description:"",methods:[],displayName:"Icon",props:{theme:{required:!1,tsType:{name:"union",raw:'"primary" | "secondary" | "success" | "info" | "warning" | "danger" | "light" | "dark"',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"secondary"'},{name:"literal",value:'"success"'},{name:"literal",value:'"info"'},{name:"literal",value:'"warning"'},{name:"literal",value:'"danger"'},{name:"literal",value:'"light"'},{name:"literal",value:'"dark"'}]},description:""}},composes:["FontAwesomeIconProps"]}},"./src/components/Icon/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _icon__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Icon/icon.tsx");const __WEBPACK_DEFAULT_EXPORT__=_icon__WEBPACK_IMPORTED_MODULE_0__.A;_icon__WEBPACK_IMPORTED_MODULE_0__.A.__docgenInfo={description:"",methods:[],displayName:"Icon",props:{theme:{required:!1,tsType:{name:"union",raw:'"primary" | "secondary" | "success" | "info" | "warning" | "danger" | "light" | "dark"',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"secondary"'},{name:"literal",value:'"success"'},{name:"literal",value:'"info"'},{name:"literal",value:'"warning"'},{name:"literal",value:'"danger"'},{name:"literal",value:'"light"'},{name:"literal",value:'"dark"'}]},description:""}},composes:["FontAwesomeIconProps"]}},"./src/components/Input/input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,p:()=>Input});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../clkingtest/node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_Icon_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Icon/icon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../clkingtest/node_modules/react/jsx-runtime.js");const Input=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(((props,ref)=>{const{disabled,size,icon,prepend,append,style,...restProps}=props,classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("clking-input-wrapper",{["input-size-".concat(size)]:size,"is-disabled":disabled,"input-group":prepend||append,"input-group-append":!!append,"input-group-prepend":!!prepend});var value;return"value"in props&&(delete restProps.defaultValue,restProps.value=null==(value=props.value)?"":value),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:classes,style,children:[prepend&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"clking-input-group-prepend",children:prepend}),icon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"icon-wrapper",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Icon_icon__WEBPACK_IMPORTED_MODULE_3__.A,{icon,title:"title-".concat(icon)})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{ref,className:"clking-input-inner",disabled,...restProps}),append&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"clking-input-group-append",children:append})]})})),__WEBPACK_DEFAULT_EXPORT__=Input;Input.__docgenInfo={description:"Input 输入框 通过鼠标或键盘输入内容，是最基础的表单域的包装。\r\n\r\n~~~js\r\n// 这样引用\r\nimport { Input } from 'clkingship'\r\n~~~\r\n\r\n支持 HTMLInput 的所有基本属性",methods:[],displayName:"Input",props:{disabled:{required:!1,tsType:{name:"boolean"},description:""},size:{required:!1,tsType:{name:"union",raw:'"lg" | "sm"',elements:[{name:"literal",value:'"lg"'},{name:"literal",value:'"sm"'}]},description:"尺寸大小"},icon:{required:!1,tsType:{name:"IconProp"},description:"icon图标"},prepend:{required:!1,tsType:{name:"union",raw:"string | ReactElement",elements:[{name:"string"},{name:"ReactElement"}]},description:"前缀"},append:{required:!1,tsType:{name:"union",raw:"string | ReactElement",elements:[{name:"string"},{name:"ReactElement"}]},description:"后缀"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(e: ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ChangeEvent",elements:[{name:"HTMLInputElement"}],raw:"ChangeEvent<HTMLInputElement>"},name:"e"}],return:{name:"void"}}},description:""},ref:{required:!1,tsType:{name:"any"},description:""}},composes:["Omit"]}},"./src/components/Transition/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _transition__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Transition/transition.tsx");const __WEBPACK_DEFAULT_EXPORT__=_transition__WEBPACK_IMPORTED_MODULE_0__.A;_transition__WEBPACK_IMPORTED_MODULE_0__.A.__docgenInfo={description:"",methods:[],displayName:"Transition",props:{animation:{required:!1,tsType:{name:"union",raw:'"zoom-in-top" | "zoom-in-left" | "zoom-in-right" | "zoom-in-bottom"',elements:[{name:"literal",value:'"zoom-in-top"'},{name:"literal",value:'"zoom-in-left"'},{name:"literal",value:'"zoom-in-right"'},{name:"literal",value:'"zoom-in-bottom"'}]},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},unmountOnExit:{defaultValue:{value:"true",computed:!1},required:!1},appear:{defaultValue:{value:"true",computed:!1},required:!1}}}},"./src/components/Transition/transition.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../clkingtest/node_modules/react/index.js"),react_transition_group__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../clkingtest/node_modules/react/jsx-runtime.js");const Transition=props=>{const{animation,classNames,children,...restprops}=props;let nodeRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_transition_group__WEBPACK_IMPORTED_MODULE_2__.A,{nodeRef,classNames:classNames||animation,...restprops,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"csstransition",ref:nodeRef,children})})};Transition.defaultProps={unmountOnExit:!0,appear:!0};const __WEBPACK_DEFAULT_EXPORT__=Transition;Transition.__docgenInfo={description:"",methods:[],displayName:"Transition",props:{animation:{required:!1,tsType:{name:"union",raw:'"zoom-in-top" | "zoom-in-left" | "zoom-in-right" | "zoom-in-bottom"',elements:[{name:"literal",value:'"zoom-in-top"'},{name:"literal",value:'"zoom-in-left"'},{name:"literal",value:'"zoom-in-right"'},{name:"literal",value:'"zoom-in-bottom"'}]},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},unmountOnExit:{defaultValue:{value:"true",computed:!1},required:!1},appear:{defaultValue:{value:"true",computed:!1},required:!1}}}},"./src/hooks/useClickOutside.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../clkingtest/node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=function useClickOutside(ref,handler){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const listener=event=>{ref.current&&!ref.current.contains(event.target)&&handler(event)};return document.addEventListener("click",listener),()=>{document.removeEventListener("click",listener)}}),[ref,handler])}}}]);